# Copyright (c) 2022, Byte-Lab d.o.o. <dev@byte-lab.com>
# SPDX-License-Identifier: Apache-2.0

description: |
    STM32 LCD-TFT display controller (LTDC)

    - 24-bit RGB Parallel Pixel Output; 8 bits-per-pixel (RGB888)
    - 2 display layers with dedicated FIFO (64x32-bit)
    - Color Look-Up Table (CLUT) up to 256 color (256x24-bit) per layer
    - Supports up to XGA (1024x768) resolution
    - Programmable timings for different display panels
    - Programmable Background color
    - Programmable polarity for HSync, VSync and Data Enable
    - Up to 8 Input color formats selectable per layer
      – ARGB8888
      – RGB888
      – RGB565
      – ARGB1555
      – ARGB4444
      – L8 (8-bit Luminance or CLUT)
      – AL44 (4-bit alpha + 4-bit luminance)
      – AL88 (8-bit alpha + 8-bit luminance)
    - Pseudo-random dithering output for low bits per channel
      – Dither width 2-bits for Red, Green, Blue
    - Flexible blending between two layers using alpha value (per pixel or constant)
    - Color Keying (transparency color)
    - Programmable Window position and size
    - Supports thin film transistor (TFT) color displays
    - AHB master interface with burst of 16 words
    - Up to 4 programmable interrupt events

compatible: "st,stm32-ltdc"

include: [display-controller.yaml,  pinctrl-device.yaml]

properties:
    disp-on-gpios:
      type: phandle-array
      required: false
      description: |
        Display on/off GPIO pin.
        Configure the GPIO polarity (active high/active low) according to LCD datasheet.

    bl-ctrl-gpios:
      type: phandle-array
      required: false
      description: |
        Backlight on/off GPIO pin.
        Configure the GPIO polarity (active high/active low) according to LCD datasheet.

    ext-sdram:
      type: phandle
      required: false
      description: |
        External SDRAM in which frame buffer will be stored.
        If not defined, internal RAM will be used.

    clocks:
      required: true

    interrupts:
      required: true

    pinctrl-0:
      required: true

    hsync-pol:
      type: int
      required: true
      description: |
        Horizontal synchronization pulse polarity.
        If HSYNC is active low, use STM32_LTDC_HSPOL_ACTIVE_LOW,
        otherwise use STM32_LTDC_HSPOL_ACTIVE_HIGH.

    vsync-pol:
      type: int
      required: true
      description: |
        Vertical synchronization pulse polarity.
        If VSYNC is active low, use STM32_LTDC_VSPOL_ACTIVE_LOW,
        otherwise use STM32_LTDC_VSPOL_ACTIVE_HIGH.

    de-pol:
      type: int
      required: true
      description: |
        Data enable pulse polarity.
        If DE is active low, use STM32_LTDC_DEPOL_ACTIVE_LOW,
        otherwise use STM32_LTDC_DEPOL_ACTIVE_HIGH.

    pclk-pol:
      type: int
      required: true
      description: |
        Pixel clock polarity.
        If RGB data is sampled on falling edge of PCLK, use STM32_LTDC_PCPOL_ACTIVE_LOW,
        otherwise use STM32_LTDC_PCPOL_ACTIVE_HIGH.

    hsync-duration:
      type: int
      required: true
      description: Horizontal synchronization pulse duration, in pixels

    vsync-duration:
      type: int
      required: true
      description: Vertical synchronization pulse duration, in lines

    hbp-duration:
      type: int
      required: true
      description: Horizontal back-porch duration, in pixels

    vbp-duration:
      type: int
      required: true
      description: Vertical back-porch duration, in lines

    hfp-duration:
      type: int
      required: true
      description: Horizontal front porch duration, in pixels

    vfp-duration:
      type: int
      required: true
      description: Vertical front porch duration, in lines

    def-back-color-red:
      type: int
      required: false
      description: Default display background color - red

    def-back-color-green:
      type: int
      required: false
      description: Default display background color - green

    def-back-color-blue:
      type: int
      required: false
      description: Default display background color - blue
