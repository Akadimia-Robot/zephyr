# Non-volatile Storage NVS

# Copyright (c) 2018 Laczen
# SPDX-License-Identifier: Apache-2.0

menuconfig NVS
	bool "Non-volatile Storage"
	help
	  Enable support of Non-volatile Storage.

if NVS

module = NVS
module-str = nvs
source "subsys/logging/Kconfig.template.log_config"

config NVS_WRITE_CHECK
	bool "Check written content"
	help
	  Check whether flash content match data written. Write API returns
	  error if check fails as for other flash driver error.

config NVS_WRITE_RETRY
	bool "Retry write"
	depends on NVS_WRITE_CHECK
	help
	  Retry write operation if flash content doesn't match to data written.
	  This option can be enabled only on memories which allow writes to
	  same location at las twice.

config NVS_ALLOW_ATE_GAPS
	bool "Allow big gaps in ATE area"
	help
	  Allow scanning through empty ATE gaps in ATE area while recovering
	  the last ate in the sector for. This might help to serve corrupted
	  writes on devices on which same flash location rewrite attempts are
	  forbidden or flash malfunction might cause ATE being empty.

endif # NVS
