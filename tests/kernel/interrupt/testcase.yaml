tests:
  arch.interrupt:
    # nios2 excluded, see #22956
    arch_exclude: nios2
    tags: kernel interrupt
    filter: not CONFIG_TRUSTED_EXECUTION_NONSECURE

  arch.interrupt.linker_generator:
    platform_allow: qemu_cortex_m3
    tags: interrupt linker_generator
    extra_configs:
      - CONFIG_CMAKE_LINKER_GENERATOR=y

  arch.interrupt.isr_share_irq:
    tags: kernel interrupt isr_share_irq
    filter: ARCH_HAS_SW_ISR_TABLE_SHARED_IRQ and not CONFIG_TRUSTED_EXECUTION_NONSECURE
    extra_configs:
      - CONFIG_ISR_SHARE_IRQ=y
