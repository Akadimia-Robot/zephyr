# MC3419 3-axis accelerometer

# Copyright (c) 2023 Linumiz
# SPDX-License-Identifier: Apache-2.0

menuconfig MC3419
	bool "MC3419 acclerometer driver"
	depends on DT_HAS_MEMSIC_MC3419_ENABLED
	select I2C if $(dt_compat_on_bus,$(DT_COMPAT_MEMSIC_MC3419),i2c)
	help
	 Enable driver for MC3419 acclerometer.

if MC3419

choice
	prompt "Trigger mode"
	default MC3419_TRIGGER_NONE

config MC3419_TRIGGER_NONE
	bool "No trigger"

config MC3419_TRIGGER_GLOBAL_THREAD
	bool "Use global thread"
	select MC3419_TRIGGER

config MC3419_TRIGGER_OWN_THREAD
	bool "Use own thread"
	select MC3419_TRIGGER

endchoice

config MC3419_TRIGGER
	bool

config MC3419_DRDY_INT2
	bool "Data ready interrupt to INT2 pin"
	depends on MC3419_TRIGGER
	help
	 Say Y to route data ready interrupt to INT2 pin.
	 By default interrupt are route to INT1 pin.

if MC3419_TRIGGER

config MC3419_THREAD_PRIORITY
	int "Own thread priority"
	depends on MC3419_TRIGGER_OWN_THREAD
	default 10

config MC3419_THREAD_STACK_SIZE
	int "Own thread stask size"
	depends on MC3419_TRIGGER_OWN_THREAD
	default 1024

menuconfig MC3419_MOTION
	bool "Motion detection"
	help
	 Enable motion detection

config MC3419_MOTION_INT2
	bool "Motion interrupt to INT2 pin"
	depends on MC3419_MOTION
	help
	 Say Y to route motion intterupt to INT2 pin.
	 By default interrupt are route to INT1 pin.

endif #MC3419_TRIGGER

config MC3419_DECIMATION_RATE
	int "Enable decimation rate"
	range 0 15
	default 15
	help
	 This helps in producing slower interrupt. IDR is divide
	 by this decimation rate. If decimation rate is 0 then
	 IDR is equal to ODR, then it produce interrupt floods.

endif #MC3419
