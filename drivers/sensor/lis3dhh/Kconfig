# LIS3DHH Three Axis Accelerometer configuration options

# Copyright (C) NEXPLORE
# https://www.nexplore.com

# SPDX-License-Identifier: Apache-2.0

menuconfig LIS3DHH
	bool "LIS3DHH Three Axis Accelerometer"
	depends on SPI
	help
	  Enable SPI-based driver for LIS3DHH triaxial
	  accelerometer sensor. Initial settings can be changed
	  during runtime.

if LIS3DHH

choice LIS3DHH_MODE_SELECTION
	prompt "Mode selection"
	help
	  Enable or disable the sensor on startup.

config LIS3DHH_NORMAL_MODE
	bool "Turn on sensor"

config LIS3DHH_DISABLE
	bool "Turn off sensor"

endchoice # LIS3DHH_MODE_SELECTION

config LIS3DHH_IF_ADD_INC
	bool "Auto increment register address"
	depends on LIS3DHH_NORMAL_MODE
	help
	  Startup configuration. Register address automatically
	  incremented during a multiple byte access with SPI
	  serial interface.

config LIS3DHH_ENABLE_BDU
	bool "Block data update"
	depends on LIS3DHH_NORMAL_MODE
	help
	  Startup configuration. Output registers are not
	  updated until MSB and LSB are read.

config LIS3DHH_INT1_AS_EXT_ASYNC_INPUT_TRIG
	bool "INT1 as asynchronous input trigger to FIFO"
	depends on LIS3DHH_NORMAL_MODE
	help
	  Configures the INT1 pad as external asynchronous
	  input trigger to FIFO on startup. Otherwise,
	  INT1 is configured as output for FIFO flags.

choice LIS3DHH_FILTER_SELECTION
	prompt "Digital filter mode selection"
	help
	  Enable either FIR linear phase oder IIR nonlinear
	  phase filter on startup. Both are digital filters.

config LIS3DHH_FILTER_FIR
	bool "FIR linear phase filter"

config LIS3DHH_FILTER_IIR
	bool "IIR nonlinear phase filter"

endchoice # LIS3DHH_FILTER_SELECTION

choice LIS3DHH_BANDWIDTH_SELECTION
	prompt "Bandwidth selection"
	help
	  Choose either 440 Hz or 235 Hz typ bandwidth on startup.

config LIS3DHH_BANDWIDTH_440HZ
	bool "440 Hz"

config LIS3DHH_BANDWIDTH_235HZ
	bool "235 Hz"

endchoice # LIS3DHH_BANDWIDTH_SELECTION

choice LIS3DHH_INT1_MODE_SELECTION
	prompt "INT1 pin mode selection"
	help
	  Choose either push-pull or open drain on INT1 on startup.

config LIS3DHH_INT1_PUSH_PULL
	bool "push-pull on INT1 pin"

config LIS3DHH_INT1_OPEN_DRAIN
	bool "open drain on INT1 pin"

endchoice # LIS3DHH_INT1_MODE_SELECTION

choice LIS3DHH_INT2_MODE_SELECTION
	prompt "INT2 pin mode selection"
	help
	  Choose either push-pull or open drain on INT2 on startup.

config LIS3DHH_INT2_PUSH_PULL
	bool "push-pull on INT2 pin"

config LIS3DHH_INT2_OPEN_DRAIN
	bool "open drain on INT2 pin"

endchoice # LIS3DHH_INT2_MODE_SELECTION

config LIS3DHH_ENABLE_FIFO
	bool "Enable FIFO"
	depends on LIS3DHH_NORMAL_MODE
	help
	  Enables the FIFO memory.

config LIS3DHH_SPI_HS_CONFIG
	bool "Enable SPI high speed configuration"
	depends on LIS3DHH_NORMAL_MODE
	help
	  Startup configuration.
	  Enables the SPI high speed configuration for the
	  FIFO block that is used to guarantee a minimum
	  duration of the window in which writing operation
	  of RAM output is blocked. This is recommended for
	  SPI clock frequencies higher than 6 MHz.

choice LIS3DHH_FIFO_MODE_SELECTION
	prompt "FIFO mode selection"
	depends on LIS3DHH_ENABLE_FIFO
	help
	  Configure the mode in which FIFO operates at startup.

config LIS3DHH_FIFO_BYPASS
	bool "Bypass mode. FIFO turned off."

config LIS3DHH_FIFO_NORMAL
	bool "FIFO mode. Stops collecting data when FIFO is full."

config LIS3DHH_FIFO_CONTINUOUS_TO_FIFO
	bool "Continuous mode until trigger is asserted, then FIFO mode."

config LIS3DHH_FIFO_BYPASS_TO_CONTINUOUS
	bool "Bypass mode until trigger is asserted, then Continuous mode."

config LIS3DHH_FIFO_CONTINUOUS
	bool "Continuous mode. If the FIFO is full, the new sample overwrites the oldest sample."

endchoice # LIS3DHH_FIFO_MODE_SELECTION

config LIS3DHH_FIFO_THRESHOLD
	int "Threshold for FIFO."
	range 1 32
	default 32
	depends on LIS3DHH_ENABLE_FIFO
	help
	  Configure the initial FIFO threshold level setting freely
	  from a minimum of 1 to a maximum of 32.

endif # LIS3DHH