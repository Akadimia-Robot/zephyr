common:
  sysbuild: true
  harness: console
  harness_config:
    type: multi_line
    regex:
      - "I: Starting bootloader"
      - "Launching primary slot application on (.*)"
      - "Secondary application ready for swap, rebooting"
      - "I: Starting swap using (.*)|I: Image 0 upgrade secondary slot -> primary slot"
      - "Swapped application booted on (.*)"
tests:
  bootloader.mcuboot:
    tags: mcuboot
    platform_allow:
      - nucleo_g071rb
    integration_platforms:
      - nucleo_g071rb
  bootloader.mcuboot.assert:
    tags: mcuboot
    platform_allow:
      - nucleo_g071rb
    extra_configs:
      - CONFIG_ASSERT=y
