common:
  tags: llext
  arch_allow:
    - arm
    - xtensa
  extra_conf_files:
    - prj.conf
    - ${ZEPHYR_BASE}/subsys/llext/${ARCH}-overlay.conf # arch-specific MPU disable
  filter: CONFIG_LLEXT # only run if it was possible to enable LLEXT
tests:
  llext.simple.readonly:
    arch_exclude: xtensa # for now
    extra_configs:
      - CONFIG_LLEXT_STORAGE_WRITABLE=n
  llext.simple.writable:
    extra_configs:
      - CONFIG_LLEXT_STORAGE_WRITABLE=y
