/*
 * Copyright (c) 2023 Intel Corporation
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/dts-v1/;

#include <mem.h>

#define DT_DRAM_SIZE		DT_SIZE_M(2048)

#include <intel/x86_64.dtsi>

/ {
	chosen {
		zephyr,sram = &dram0;
	};

	aliases {
		watchdog0 = &tco_wdt;
		sdhc0 = &emmc;
	};

	soc {
		pwm0: pwm0@fd6d0000 {
			compatible = "intel,blinky-pwm";
			reg = <0xfd6d0000 0x400>;
			reg-offset = <0x204>;
			clock-frequency = <32768>;
			max-pins = <1>;
			#pwm-cells = <2>;

			status = "okay";
		};

		gpio_0_b: gpio@fd6e0700 {
			compatible = "intel,gpio";
			reg = <0xfd6e0700 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x0>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <24>;
			pin-offset = <0>;

			status = "okay";
		};

		gpio_0_a: gpio@fd6e09a0 {
			compatible = "intel,gpio";
			reg = <0xfd6e09a0 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x2>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <24>;
			pin-offset = <41>;

			status = "okay";
		};

		gpio_1_s: gpio@fd6d0700 {
			compatible = "intel,gpio";
			reg = <0xfd6d0700 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x0>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <8>;
			pin-offset = <0>;

			status = "okay";
		};

		gpio_1_i: gpio@fd6d0780 {
			compatible = "intel,gpio";
			reg = <0xfd6d0780 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x1>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <19>;
			pin-offset = <8>;

			status = "okay";
		};


		gpio_1_h: gpio@fd6d08c0 {
			compatible = "intel,gpio";
			reg = <0xfd6d08c0 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x2>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <24>;
			pin-offset = <25>;

			status = "okay";
		};

		gpio_1_d: gpio@fd6d0a40 {
			compatible = "intel,gpio";
			reg = <0xfd6d0a40 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x3>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <20>;
			pin-offset = <49>;

			status = "okay";
		};

		gpio_4_c: gpio@fd6a0700 {
			compatible = "intel,gpio";
			reg = <0xfd6a0700 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x0>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <8>;
			pin-offset = <0>;

			status = "okay";
		};

		gpio_4_f: gpio@fd6a0880 {
			compatible = "intel,gpio";
			reg = <0xfd6a0880 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x1>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <24>;
			pin-offset = <24>;

			status = "okay";
		};

		gpio_4_e: gpio@fd6a0a70 {
			compatible = "intel,gpio";
			reg = <0xfd6a0a70 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x3>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <24>;
			pin-offset = <57>;

			status = "okay";
		};

		gpio_5_r: gpio@fd690700 {
			compatible = "intel,gpio";
			reg = <0xfd690700 0x1000>;
			interrupts = <14 IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
			interrupt-parent = <&intc>;

			group-index = <0x0>;
			gpio-controller;
			#gpio-cells = <2>;

			ngpios = <8>;
			pin-offset = <0>;

			status = "okay";
		};
	};
};

&pcie0 {
	emmc: emmc0 {
		compatible = "intel,emmc-host";
		vendor-id = <0x8086>;
		device-id = <0x54C4>;
		interrupts = <PCIE_IRQ_DETECT IRQ_TYPE_LOWEST_LEVEL_LOW 3>;
		interrupt-parent = <&intc>;

		max-bus-freq = <200000000>;
		min-bus-freq = <400000>;
		power-delay-ms = <500>;
		mmc-hs400-1_8v;
		mmc-hs200-1_8v;

		mmc {
			compatible = "zephyr,mmc-disk";
			bus-width = <8>;
			status = "okay";
		};

		status = "okay";
	};
};

&smbus0 {
	vendor-id = <0x8086>;
	device-id = <0x54a3>;

	status = "okay";
};

&uart0 {
	vendor-id = <0x8086>;
	device-id = <0x54a8>;

	status = "disabled";
};

&uart1 {
	vendor-id = <0x8086>;
	device-id = <0x54A9>;

	status = "disabled";
};

&uart2 {
	vendor-id = <0x8086>;
	device-id = <0x54C7>;

	status = "disabled";
};

&spi0 {
	vendor-id = <0x8086>;
	device-id = <0x54aa>;
	cs-gpios = <&gpio_4_e 10 GPIO_ACTIVE_LOW>;

	status = "okay";
};

&spi1 {
	vendor-id = <0x8086>;
	device-id = <0x54ab>;
	cs-gpios = <&gpio_4_f 16 GPIO_ACTIVE_LOW>;

	status = "disabled";
};

&spi2 {
	vendor-id = <0x8086>;
	device-id = <0x54fb>;
	cs-gpios = <&gpio_1_d 9 GPIO_ACTIVE_LOW>;

	status = "disabled";
};

&i2c0 {
	vendor-id = <0x8086>;
	device-id = <0x54e8>;

	status = "okay";
};

&i2c1 {
	vendor-id = <0x8086>;
	device-id = <0x54e9>;

	status = "disabled";
};

&i2c2 {
	vendor-id = <0x8086>;
	device-id = <0x54ea>;

	status = "disabled";
};

&i2c3 {
	vendor-id = <0x8086>;
	device-id = <0x54eb>;

	status = "disabled";
};

&i2c4 {
	vendor-id = <0x8086>;
	device-id = <0x54c5>;

	status = "disabled";
};

&i2c5 {
	vendor-id = <0x8086>;
	device-id = <0x54c6>;

	status = "disabled";
};

&tgpio {
	status = "okay";
};

&vtd {
	status = "okay";
};
