sample:
  description: Use CMSIS DSP to calculate moving average
  name: CMSIS DSP Moving Average
tests:
  sample.modules.cmsis_dsp.moving_average:
    tags:
      - samples
    integration_platforms:
      - qemu_cortex_m0
      - native_sim
    modules:
      - cmsis_dsp
    harness: console
    harness_config:
      type: multi_line
      regex:
        - "Input\\[00\\]:  0  0  0  0  0  0  0  0  0  0 Output\\[00\\]:   0.00"
        - "Input\\[01\\]:  1  0  0  0  0  0  0  0  0  0 Output\\[01\\]:   0.10"
        - "Input\\[02\\]:  2  1  0  0  0  0  0  0  0  0 Output\\[02\\]:   0.30"
        - "Input\\[03\\]:  3  2  1  0  0  0  0  0  0  0 Output\\[03\\]:   0.60"
        - "Input\\[04\\]:  4  3  2  1  0  0  0  0  0  0 Output\\[04\\]:   1.00"
        - "Input\\[05\\]:  5  4  3  2  1  0  0  0  0  0 Output\\[05\\]:   1.50"
        - "Input\\[06\\]:  6  5  4  3  2  1  0  0  0  0 Output\\[06\\]:   2.10"
        - "Input\\[07\\]:  7  6  5  4  3  2  1  0  0  0 Output\\[07\\]:   2.80"
        - "Input\\[08\\]:  8  7  6  5  4  3  2  1  0  0 Output\\[08\\]:   3.60"
        - "Input\\[09\\]:  9  8  7  6  5  4  3  2  1  0 Output\\[09\\]:   4.50"
        - "Input\\[10\\]: 10  9  8  7  6  5  4  3  2  1 Output\\[10\\]:   5.50"
        - "Input\\[11\\]: 11 10  9  8  7  6  5  4  3  2 Output\\[11\\]:   6.50"
        - "Input\\[12\\]: 12 11 10  9  8  7  6  5  4  3 Output\\[12\\]:   7.50"
        - "Input\\[13\\]: 13 12 11 10  9  8  7  6  5  4 Output\\[13\\]:   8.50"
        - "Input\\[14\\]: 14 13 12 11 10  9  8  7  6  5 Output\\[14\\]:   9.50"
        - "Input\\[15\\]: 15 14 13 12 11 10  9  8  7  6 Output\\[15\\]:  10.50"
        - "Input\\[16\\]: 16 15 14 13 12 11 10  9  8  7 Output\\[16\\]:  11.50"
        - "Input\\[17\\]: 17 16 15 14 13 12 11 10  9  8 Output\\[17\\]:  12.50"
        - "Input\\[18\\]: 18 17 16 15 14 13 12 11 10  9 Output\\[18\\]:  13.50"
        - "Input\\[19\\]: 19 18 17 16 15 14 13 12 11 10 Output\\[19\\]:  14.50"
        - "Input\\[20\\]: 20 19 18 17 16 15 14 13 12 11 Output\\[20\\]:  15.50"
        - "Input\\[21\\]: 21 20 19 18 17 16 15 14 13 12 Output\\[21\\]:  16.50"
        - "Input\\[22\\]: 22 21 20 19 18 17 16 15 14 13 Output\\[22\\]:  17.50"
        - "Input\\[23\\]: 23 22 21 20 19 18 17 16 15 14 Output\\[23\\]:  18.50"
        - "Input\\[24\\]: 24 23 22 21 20 19 18 17 16 15 Output\\[24\\]:  19.50"
        - "Input\\[25\\]: 25 24 23 22 21 20 19 18 17 16 Output\\[25\\]:  20.50"
        - "Input\\[26\\]: 26 25 24 23 22 21 20 19 18 17 Output\\[26\\]:  21.50"
        - "Input\\[27\\]: 27 26 25 24 23 22 21 20 19 18 Output\\[27\\]:  22.50"
        - "Input\\[28\\]: 28 27 26 25 24 23 22 21 20 19 Output\\[28\\]:  23.50"
        - "Input\\[29\\]: 29 28 27 26 25 24 23 22 21 20 Output\\[29\\]:  24.50"
        - "Input\\[30\\]: 30 29 28 27 26 25 24 23 22 21 Output\\[30\\]:  25.50"
        - "Input\\[31\\]: 31 30 29 28 27 26 25 24 23 22 Output\\[31\\]:  26.50"
