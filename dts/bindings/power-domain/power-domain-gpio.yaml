# Copyright (c) 2022, CSIRO
# SPDX-License-Identifier: Apache-2.0

description: Simple GPIO controlled power domain

compatible: "power-domain-gpio"

include: power-domain.yaml

properties:
  enable-gpios:
    type: phandle-array
    required: true
    description: |
      GPIO to use to enable/disable the regulator.

      Unlike the gpio property in the Linux bindings this array must
      provide the GPIO polarity and open-drain status in the phandle
      selector.  The Linux enable-active-high and gpio-open-drain
      properties are not valid for Zephyr devicetree files.

  startup-delay-us:
    type: int
    required: false
    default: 0
    description: Startup time, in microseconds

  off-on-delay-us:
    type: int
    required: false
    default: 0
    description: Off delay time, in microseconds

  init-priority:
    type: int
    default: 75
    description: |
      Device initialisation priority within the POST_KERNEL level.
      75 is the previous Kconfig hardcoded value to avoid changing
      initialisation orders. The default will need to change if the
      power domain depends on another power domain, to ensure that
      root domains are initialised first.
