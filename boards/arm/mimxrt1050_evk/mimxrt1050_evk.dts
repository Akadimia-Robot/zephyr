/*
 * Copyright (c) 2017, NXP
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/dts-v1/;

#include "mimxrt1050_evk_common.dts"

/ {
	chosen {
		zephyr,flash = &hyperflash0;
		zephyr,code-partition = &slot0_partition;
		zephyr,uart-mcumgr = &uart1;
	};
};



&flexspi0 {
	#address-cells = <1>;
	#size-cells = <1>;
	reg = <0x402a8000 0x4000>, <0x60000000 0x4000000>;

	hyperflash0: hyperflash@0 {
		reg = <0x60000000 0x4000000>;
		label = "HYPERFLASH0";
		compatible = "cypress,s26kl";
		erase-block-size = <0x40000>;
		write-block-size = <0x200>;
		status = "okay";
	};
};

&lcdif1 {
	status = "okay";
	port {
		lcd_panel_out: endpoint {
			remote-endpoint = <&lcd_panel_in>;
		};
	};
};

&i2c1 {
	status = "okay";

	fxos8700@1f {
		compatible = "nxp,fxos8700";
		reg = <0x1f>;
		label = "FXOS8700";

		/* Two zero ohm resistors (R263 and R264) isolate sensor
		 * interrupt gpios from the soc and are unpopulated by default.
		 * Note that if you populate them, they conflict with LCD and
		 * Ethernet interrupt gpios.
		 */
		int1-gpios = <&gpio1 10 0>;
		int2-gpios = <&gpio1 11 0>;
	};
};

&uart1 {
	status = "okay";
	current-speed = <115200>;
};

&spi3 {
	status = "okay";
};

&eth {
	status = "okay";
	ptp {
		status = "okay";
	};
};

&usbd1 {
	status = "okay";
};

&hyperflash0 {
	partitions {
		compatible = "fixed-partitions";
		#address-cells = <1>;
		#size-cells = <1>;

		boot_partition: partition@0 {
			label = "mcuboot";
			reg = <0x00000000 0x00040000>;
			read-only;
		};

		slot0_partition: partition@40000 {
			label = "image-0";
			reg = <0x00040000 0x01800000>;
		};

		slot1_partition: partition@1840000  {
			label = "image-1";
			reg = <0x01840000 0x01800000>;
		};

		scratch_partition: partition@3040000 {
			label = "image-scratch";
			reg = <0x03040000 0x00200000>;
		};

		storage_partition: partition@0240000 {
			label = "storage";
			reg = <0x3240000 0x00C00000>;
		};
	};

};

