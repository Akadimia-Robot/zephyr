add_definitions(-D__ZEPHYR_SUPERVISOR__)

add_library(drivers STATIC "")
target_link_libraries(drivers PRIVATE zephyr_interface)
target_link_libraries(zephyr_app_linking INTERFACE drivers)

if(CONFIG_PTP_CLOCK_MCUX)
  target_compile_definitions(drivers PRIVATE ENET_ENHANCEDBUFFERDESCRIPTOR_MODE)
endif()

include_relative(console/CMakeLists.txt)
include_relative(interrupt_controller/CMakeLists.txt)
include_relative_if_kconfig(adc/CMakeLists.txt)
include_relative_if_kconfig(clock_control/CMakeLists.txt)
include_relative_if_kconfig(counter/CMakeLists.txt)
include_relative_if_kconfig(crypto/CMakeLists.txt)
include_relative_if_kconfig(display/CMakeLists.txt)
include_relative_if_kconfig(dma/CMakeLists.txt)
include_relative_if_kconfig(gpio/CMakeLists.txt)
include_relative_if_kconfig(grove/CMakeLists.txt)
include_relative_if_kconfig(i2c/CMakeLists.txt)
include_relative_if_kconfig(i2s/CMakeLists.txt)
include_relative_if_kconfig(ieee802154/CMakeLists.txt)
include_relative_if_kconfig(ipm/CMakeLists.txt)
include_relative_if_kconfig(led/CMakeLists.txt)
include_relative_if_kconfig(led_strip/CMakeLists.txt)
include_relative_if_kconfig(modem/CMakeLists.txt)
include_relative_if_kconfig(pci/CMakeLists.txt)
include_relative_if_kconfig(pinmux/CMakeLists.txt)
include_relative_if_kconfig(pwm/CMakeLists.txt)
include_relative_if_kconfig(rtc/CMakeLists.txt)
include_relative_if_kconfig(sensor/CMakeLists.txt)
include_relative_if_kconfig(spi/CMakeLists.txt)
include_relative_if_kconfig(usb/CMakeLists.txt)
include_relative_if_kconfig(watchdog/CMakeLists.txt)
include_relative_if_kconfig(wifi/CMakeLists.txt)
include_relative_if_kconfig(can/CMakeLists.txt)
include_relative_if_kconfig(audio/CMakeLists.txt)
include_relative_ifdef(CONFIG_FLASH_HAS_DRIVER_ENABLED  flash/CMakeLists.txt)
include_relative_ifdef(CONFIG_SERIAL_HAS_DRIVER         serial/CMakeLists.txt)
include_relative_ifdef(CONFIG_AIO_COMPARATOR            aio/CMakeLists.txt)
include_relative_ifdef(CONFIG_BT                        bluetooth/CMakeLists.txt)
include_relative_ifdef(CONFIG_NETWORKING                net/CMakeLists.txt)
include_relative_ifdef(CONFIG_NET_L2_ETHERNET           ethernet/CMakeLists.txt)
include_relative_ifdef(CONFIG_ENTROPY_HAS_DRIVER        entropy/CMakeLists.txt)
include_relative_ifdef(CONFIG_SYS_CLOCK_EXISTS          timer/CMakeLists.txt)
include_relative_ifdef(CONFIG_NEURAL_NET_ACCEL          neural_net/CMakeLists.txt)

