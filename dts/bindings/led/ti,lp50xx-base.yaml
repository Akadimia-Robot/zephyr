# Copyright (c) 2023 Kistler Instrumente AG
# Copyright (c) 2020 Seagate Technology LLC
# SPDX-License-Identifier: Apache-2.0

include: ["i2c-device.yaml", "led-controller.yaml"]

properties:
  max_curr_opt:
    type: boolean
    description: |
      If enabled the maximum current output is set to 35 mA (25.5 mA else).
  log_scale_en:
    type: boolean
    description: |
      If enabled a logarithmic dimming scale curve is used for LED brightness
      control. A linear dimming scale curve is used else.
  enable-gpios:
    type: phandle-array
    description: |
      Chip enable input pin.

child-binding:
  description: |
    Example DT:

      lp5018@28 {
        compatible = "ti,lp5018";
        status = "okay";
        reg = <0x28>;
        enable-gpios = <&gpiok 3 GPIO_ACTIVE_HIGH>; /* optional */
        log_scale_en; /* optional */
        max_curr_opt; /* optional */

        led_0 {
          label = "STATUS 0 RGB";
          index = <0>;
          color-mapping =
            <LED_COLOR_ID_RED>,
            <LED_COLOR_ID_GREEN>,
            <LED_COLOR_ID_BLUE>;
          default-brightness = <10>; /* optional */
          norm-value = <0xff>; /* optional */
        };
      };

  properties:
    label:
      required: true
    index:
      required: true
    color-mapping:
      required: true
    default-brightness:
      type: int
      description: |
        Default brightness in percent.
    norm-value:
      type: int
      description: |
        Color value sum representing 100% brightness.
