# SPDX-License-Identifier: Apache-2.0

# Split version up into parts using regex
string(REGEX MATCHALL "([0-9]+)" VERSION_SPLIT ${VERSION})
string(REGEX MATCH "^([0-9]+)$" APPLICATION_VERSION_NUMBER ${VERSION})

set(APPLICATION_VERSION_STRING \"${VERSION}\")

# Split mcuboot-style version information up
list(LENGTH VERSION_SPLIT VERSION_SPLIT_LEN)
if(VERSION_SPLIT_LEN EQUAL 4)
  list(GET VERSION_SPLIT 0 APPLICATION_VERSION_MAJOR)
  list(GET VERSION_SPLIT 1 APPLICATION_VERSION_MINOR)
  list(GET VERSION_SPLIT 2 APPLICATION_VERSION_PATCH_LEVEL)
  list(GET VERSION_SPLIT 3 APPLICATION_VERSION_BUILD_REVISION)
endif()
